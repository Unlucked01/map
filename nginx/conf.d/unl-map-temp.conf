# Временная конфигурация только для HTTP (для получения SSL сертификата)
server {
    listen 80;
    server_name unl-map.duckdns.org;

    # Let's Encrypt challenge
    location /.well-known/acme-challenge/ {
        root /var/www/certbot;
        try_files $uri =404;
    }

    # Временно отдаем базовый ответ для всех остальных запросов
    location / {
        return 200 'SSL certificate setup in progress...';
        add_header Content-Type text/plain;
    }
}

# Upstream для внутренних сервисов (пока не используются)
upstream frontend {
    server frontend:80;
    keepalive 32;
}

upstream backend {
    server backend:8000;
    keepalive 32;
} 